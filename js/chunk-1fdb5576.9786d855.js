(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fdb5576"],{"07ac":function(e,r,a){var s=a("23e7"),t=a("6f53").values;s({target:"Object",stat:!0},{values:function(e){return t(e)}})},2532:function(e,r,a){"use strict";var s=a("23e7"),t=a("5a34"),n=a("1d80"),l=a("ab13");s({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~String(n(this)).indexOf(t(e),arguments.length>1?arguments[1]:void 0)}})},"38fc":function(e,r,a){},"44e7":function(e,r,a){var s=a("861d"),t=a("c6b6"),n=a("b622"),l=n("match");e.exports=function(e){var r;return s(e)&&(void 0!==(r=e[l])?!!r:"RegExp"==t(e))}},"498a":function(e,r,a){"use strict";var s=a("23e7"),t=a("58a8").trim,n=a("c8d2");s({target:"String",proto:!0,forced:n("trim")},{trim:function(){return t(this)}})},5899:function(e,r){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,r,a){var s=a("1d80"),t=a("5899"),n="["+t+"]",l=RegExp("^"+n+n+"*"),i=RegExp(n+n+"*$"),o=function(e){return function(r){var a=String(s(r));return 1&e&&(a=a.replace(l,"")),2&e&&(a=a.replace(i,"")),a}};e.exports={start:o(1),end:o(2),trim:o(3)}},"5a34":function(e,r,a){var s=a("44e7");e.exports=function(e){if(s(e))throw TypeError("The method doesn't accept regular expressions");return e}},"6f53":function(e,r,a){var s=a("83ab"),t=a("df75"),n=a("fc6a"),l=a("d1e7").f,i=function(e){return function(r){var a,i=n(r),o=t(i),c=o.length,m=0,u=[];while(c>m)a=o[m++],s&&!l.call(i,a)||u.push(e?[a,i[a]]:i[a]);return u}};e.exports={entries:i(!0),values:i(!1)}},"99af":function(e,r,a){"use strict";var s=a("23e7"),t=a("d039"),n=a("e8b5"),l=a("861d"),i=a("7b0b"),o=a("50c4"),c=a("8418"),m=a("65f0"),u=a("1dde"),p=a("b622"),d=a("2d00"),v=p("isConcatSpreadable"),f=9007199254740991,h="Maximum allowed index exceeded",b=d>=51||!t((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),x=u("concat"),k=function(e){if(!l(e))return!1;var r=e[v];return void 0!==r?!!r:n(e)},g=!b||!x;s({target:"Array",proto:!0,forced:g},{concat:function(e){var r,a,s,t,n,l=i(this),u=m(l,0),p=0;for(r=-1,s=arguments.length;r<s;r++)if(n=-1===r?l:arguments[r],k(n)){if(t=o(n.length),p+t>f)throw TypeError(h);for(a=0;a<t;a++,p++)a in n&&c(u,p,n[a])}else{if(p>=f)throw TypeError(h);c(u,p++,n)}return u.length=p,u}})},a297:function(e,r,a){"use strict";var s=a("38fc"),t=a.n(s);t.a},ab13:function(e,r,a){var s=a("b622"),t=s("match");e.exports=function(e){var r=/./;try{"/./"[e](r)}catch(a){try{return r[t]=!1,"/./"[e](r)}catch(s){}}return!1}},bfa7:function(e,r,a){"use strict";a.r(r);var s=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"an-permission"},[a("Row",{attrs:{space:9}},[a("Cell",{attrs:{width:23}},[a("div",{staticClass:"h-panel"},[a("div",{staticClass:"h-panel-bar"},[a("span",{staticClass:"h-panel-title primary-color"},[e._v("权限管理")])]),a("div",{staticClass:"h-panel-bar"},[a("Select",{attrs:{disabled:e.isloading,datas:e.roleDict,placeholder:"选择角色"},on:{change:e.roleChangeHandler},model:{value:e.role,callback:function(r){e.role=r},expression:"role"}}),a("br"),a("div",{directives:[{name:"width",rawName:"v-width",value:400,expression:"400"}]},[a("div",{directives:[{name:"width",rawName:"v-width",value:500,expression:"500"}],staticClass:"h-input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.roleName,expression:"roleName"}],attrs:{type:"text",placeholder:"当前角色"},domProps:{value:e.roleName},on:{input:function(r){r.target.composing||(e.roleName=r.target.value)}}}),a("ButtonGroup",{staticStyle:{"margin-left":"10px"}},[a("Button",{attrs:{disabled:e.isloading||0==e.roleName.length,transparent:"","text-color":"primary"},on:{click:e.addRole}},[e._v("添加")]),a("Button",{attrs:{disabled:e.isloading||0==e.roleName.length,transparent:"","text-color":"primary"},on:{click:e.editRole}},[e._v("修改")]),a("Button",{attrs:{disabled:e.isloading||0==e.roleName.length,transparent:"","text-color":"primary"},on:{click:e.delRole}},[e._v("删除")])],1)],1)])],1),a("div",{staticClass:"h-panel-body"},[a("h5",[e._v("前台权限")]),a("p",[a("Checkbox",{attrs:{value:e.permValues[0]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("网站访问")]),a("Checkbox",{attrs:{value:e.permValues[1]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("文章访问")]),a("Checkbox",{attrs:{value:e.permValues[2]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("文章点赞")]),a("Checkbox",{attrs:{value:e.permValues[3]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("文章评论")]),a("Checkbox",{attrs:{value:e.permValues[4]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("评论点赞")])],1),a("br"),a("h5",[e._v("后台权限")]),a("p",[a("Checkbox",{attrs:{value:e.permValues[5]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("后台管理")])],1),a("h5",[e._v("仪表板")]),a("p",[a("Checkbox",{attrs:{value:e.permValues[6]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("仪表板查看")])],1),a("h5",[e._v("个人中心")]),a("p",[a("Checkbox",{attrs:{value:e.permValues[7]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("个人中心查看")]),a("Checkbox",{attrs:{value:e.permValues[8]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("个人资料同步")]),a("Checkbox",{attrs:{value:e.permValues[9]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("修改个人资料")])],1),a("h5",[e._v("用户管理")]),a("p",[a("Checkbox",{attrs:{value:e.permValues[10]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("用户查询")]),a("Checkbox",{attrs:{value:e.permValues[11]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("用户修改")]),a("Checkbox",{attrs:{value:e.permValues[12]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("用户添加")])],1),a("h5",[e._v("权限管理")]),a("p",[a("Checkbox",{attrs:{value:e.permValues[13]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("角色查询")]),a("Checkbox",{attrs:{value:e.permValues[14]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("角色修改")]),a("Checkbox",{attrs:{value:e.permValues[15]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("角色添加")]),a("Checkbox",{attrs:{value:e.permValues[16]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("角色删除")])],1),a("h5",[e._v("文章管理")]),a("p",[a("Checkbox",{attrs:{value:e.permValues[17]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("文章查询")]),a("Checkbox",{attrs:{value:e.permValues[18]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("文章修改")]),a("Checkbox",{attrs:{value:e.permValues[19]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("文章添加")])],1),a("h5",[e._v("分类管理")]),a("p",[a("Checkbox",{attrs:{value:e.permValues[20]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("分类查询")]),a("Checkbox",{attrs:{value:e.permValues[21]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("分类修改")]),a("Checkbox",{attrs:{value:e.permValues[22]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("分类添加")]),a("Checkbox",{attrs:{value:e.permValues[23]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("分类删除")])],1),a("h5",[e._v("评论管理")]),a("p",[a("Checkbox",{attrs:{value:e.permValues[24]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("评论查询")]),a("Checkbox",{attrs:{value:e.permValues[25]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("评论修改")])],1),a("h5",[e._v("网站设置")]),a("p",[a("Checkbox",{attrs:{value:e.permValues[26]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("网站设置查看")]),a("Checkbox",{attrs:{value:e.permValues[27]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("网站设置修改")])],1),a("h5",[e._v("日志管理")]),a("p",[a("Checkbox",{attrs:{value:e.permValues[28]},model:{value:e.perms,callback:function(r){e.perms=r},expression:"perms"}},[e._v("日志查看")])],1),a("ButtonGroup",[a("Button",{attrs:{disabled:e.isloading||0==e.roleName.length,transparent:"","text-color":"primary"},on:{click:e.save}},[e._v("修改")]),a("Button",{attrs:{disabled:e.isloading||0==e.perms.length,transparent:"","text-color":"primary"},on:{click:e.clear}},[e._v("清空")])],1)],1)])])],1)],1)},t=[],n=(a("99af"),a("caad"),a("b64b"),a("07ac"),a("2532"),a("498a"),{name:"permission",data:function(){return{role:null,roleDict:{0:""},roleName:"",perms:[],permValues:["visit","visit.article","visit.article.edit","visit.comment.add","visit.comment.edit","admin","admin.board","admin.profile","admin.profile.synch","admin.profile.edit","admin.user","admin.user.edit","admin.user.add","admin.permission","admin.permission.edit","admin.permission.add","admin.permission.del","admin.article","admin.article.edit","admin.article.add","admin.category","admin.category.edit","admin.category.add","admin.category.del","admin.comment","admin.comment.edit","admin.setting","admin.setting.edit","admin.record"]}},mounted:function(){this.roleDict=this.$roles},methods:{save:function(){var e=this;this.L((function(){e.$Message.success("修改成功！")}),"admin.permission.edit")},clear:function(){this.perms=[]},roleChangeHandler:function(e){if(this.perms=[],e){this.roleName=e.title;var r=["visit","visit.article"];e.key>0&&r.push("visit.comment.add"),e.key>1&&r.push("admin","admin.board","admin.profile","admin.profile.synch"),e.key>2&&r.push("admin.profile.edit"),e.key>3&&r.push("admin.user"),e.key>4&&r.push("admin.article"),e.key>5&&r.push("admin.comment"),e.key>6&&r.push("admin.setting"),e.key>7&&r.push("admin.record"),e.key>8&&(r=this.permValues),this.perms=r}},check:function(){return this.roleName=this.roleName.trim(),0!=this.roleName.length||(this.$Message.warn("角色不能为空！"),!1)},addRole:function(){var e=this;this.L((function(){if(e.check())if(Object.values(e.roleDict).includes(e.roleName))e.$Message.warn("角色【".concat(e.roleName,"】已经存在！"));else{var r=e.Copy(e.roleDict),a=+new Date;r[a]=e.roleName,e.roleDict=r,e.role=a,e.$Message.success("角色【".concat(e.roleName,"】添加成功！"))}}),"admin.permission.add")},editRole:function(){var e=this;this.L((function(){if(e.check())if(Object.keys(e.roleDict).includes(e.role))if(Object.values(e.roleDict).includes(e.roleName))e.$Message.warn("角色【".concat(e.roleName,"】已经存在！"));else{var r=e.roleDict[e.role],a=e.Copy(e.roleDict);a[e.role]=e.roleName,e.roleDict=a,e.$Message.success("角色【".concat(r,"】成功修改成【").concat(e.roleName,"】！"))}else e.$Message.warn("请选择角色后再进行修改！")}),"admin.permission.edit")},delRole:function(){var e=this;this.L((function(){if(e.check())if(Object.values(e.roleDict).includes(e.roleName)){var r=e.Copy(e.roleDict);delete r[e.role],e.$Message.success("角色【".concat(e.roleName,"】删除成功！")),e.roleName="",e.role=null,e.roleDict=r}else e.$Message.warn("角色【".concat(e.roleName,"】不存在！"))}),"admin.permission.del")}}}),l=n,i=(a("a297"),a("2877")),o=Object(i["a"])(l,s,t,!1,null,"c7a3993c",null);r["default"]=o.exports},c8d2:function(e,r,a){var s=a("d039"),t=a("5899"),n="​᠎";e.exports=function(e){return s((function(){return!!t[e]()||n[e]()!=n||t[e].name!==e}))}},caad:function(e,r,a){"use strict";var s=a("23e7"),t=a("4d64").includes,n=a("44d2"),l=a("ae40"),i=l("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!i},{includes:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")}}]);
//# sourceMappingURL=chunk-1fdb5576.9786d855.js.map